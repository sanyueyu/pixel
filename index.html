<html>
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js" type="text/javascript"></script>
</head>
<body>
       <canvas id="myCanvas" width="500" height="500"></canvas>
<script>
    var canvas = $("#myCanvas").get(0),
            context = canvas.getContext("2d");
    context.save();
    context.shadowBlur = 20;
    context.shadowColor = "rgb(0, 0, 0)";
    var img = new Image();
    img.src = "628.jpg";
    $(img).load(function() {
        context.drawImage(img, 500, 500, 500, 400, 0, 0, 500, 400);
    });
    $(canvas).bind("click", function(e) {
        var canvasOffset = $(this).offset(),
                canvasX = Math.floor(e.pageX - canvasOffset.left),
                canvasY = Math.floor(e.pageY - canvasOffset.top),
                imageData = context.getImageData(canvasX, canvasY, 1, 1),
                pixel = imageData.data,
                pixelColor = "rgba(" + pixel[0] + ","  + pixel[1] + "," + pixel[2] + ","  + pixel[3] + ")";
        $("body").css("background", pixelColor);
    });




</script>
</body>
</html>